{% extends "base.html" %}
{% load crispy_forms_filters %}

{% block content %}
  <h1>
    Task list  <a href="{% url 'tasks:task-create' %}" class="btn btn-primary link-to-page">+</a>
  </h1>
{% if task_list %}
<ul class="list-group">
      {% for task in task_list %}
        <div class="list-group-item">
  <div class="d-flex justify-content-between align-items-center">
    <div>
      <h5 class="mb-0">{{ task.content }}
      {% if task.is_completed %}
      <p class="text-success">Done</p>
      {% else %}
      <p class="text-danger">Not Done</p>{% endif %}</h5>
      <small><i>{{ task.created_at }}</i></small>
    </div>
  </div>
  <div>
    <p>Tags: {% for tag in task.tags.all %} {{tag}} {% endfor %}
      <a href="{% url 'tasks:task-update' pk=task.id %}" >Update</a>,
      <a href="{% url 'tasks:task-delete' pk=task.id %}" >Delete</a></p>
    {% if task.is_completed %}
      <a href="{% url 'tasks:task-update-status' pk=task.id %}" class="btn btn-secondary link-to-page">
        Undo</a>
    {% else %}
      <a href="{% url 'tasks:task-update-status' pk=task.id %}" class="btn btn-success link-to-page">
      Complete</a>
    {% endif %}<br>
  </div>
</div>
      {% endfor %}
    </ul>
{% else %}
<p>There are not any tasks</p>
{% endif %}
{% endblock %}
